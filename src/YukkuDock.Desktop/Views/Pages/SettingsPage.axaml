<UserControl
  x:Class="YukkuDock.Desktop.Views.SettingsPage"
  xmlns="https://github.com/avaloniaui"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
  xmlns:epoxy="https://github.com/kekyo/Epoxy"
  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
  xmlns:ui="using:FluentAvalonia.UI.Controls"
  xmlns:vm="using:YukkuDock.Desktop.ViewModels"
  d:DesignHeight="450"
  d:DesignWidth="800"
  x:DataType="vm:ProfileWindowViewModel"
  mc:Ignorable="d"
  >
  <DockPanel Margin="10">
    <TextBlock
      DockPanel.Dock="Top"
      Text="設定"
      Theme="{StaticResource SubtitleTextBlockStyle}"
      />
    <ScrollViewer>
      <StackPanel>

        <ui:SettingsExpander
          Name="appVersion"
          Header="YMM4 version"
          IconSource="Tag"
          >
          <ui:SettingsExpander.Footer>

            <StackPanel Orientation="Horizontal" Spacing="4">
              <TextBlock Text="{Binding ProfileVm.AppVersion, FallbackValue='不明'}" />
            </StackPanel>
          </ui:SettingsExpander.Footer>
        </ui:SettingsExpander>

        <ui:SettingsExpander
          Name="SettingsExpander2"
          Description="{Binding ProfileVm.AppPath, FallbackValue='YMM4のインストール先を選択してください'}"
          Header="インストール先"
          IconSource="FolderLink"
          >
          <AdornerLayer.Adorner>
            <Grid>
              <ui:InfoBadge
                HorizontalAlignment="Right"
                VerticalAlignment="Top"
                Classes="Caution Icon"
                IsVisible="{Binding !ProfileVm.IsAppExists, Converter={StaticResource FalseIfNull}}"
                />
            </Grid>
          </AdornerLayer.Adorner>
          <ui:SettingsExpander.Footer>

            <StackPanel Orientation="Horizontal" Spacing="4">
              <ui:SymbolIcon FontSize="18" Symbol="Folder" />
              <Button Command="{Binding SelectAppPathCommand}" Content="…" />
            </StackPanel>
          </ui:SettingsExpander.Footer>
        </ui:SettingsExpander>
      </StackPanel>
    </ScrollViewer>
  </DockPanel>

</UserControl>
